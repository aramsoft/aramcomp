<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="aramframework.com.uss.olh.awm.service.impl.AdministrationWordMapper">

	<!-- 행정전문용어사전::목록조회 게시물정보 -->
	<select id="selectAdministrationWordList" resultType="egovMap" >
        /* 구현 Sql */
       	<![CDATA[
		    SELECT ADMINIST_WORD_ID			AS "administWordId"
		         , ADMINIST_WORD_NM			AS "administWordNm"
		         , ADMINIST_WORD_ABRV_NM	AS "administWordAbrvNm"
		         , THEMA_RELM				AS "themaRelm"
		         , WORD_SE					AS "wordSe"
		         , FRST_REGIST_PNTTM		AS "frstRegisterPnttm" 
		      FROM COMTN_ADMINISTRATION_WORD 
		     WHERE 1=1
	 	]]>
     	<if test='searchKeyword != null and searchKeyword != ""'>
        <choose>
            <when test='searchCondition == "ADMINIST_WORD_NM"'>
                <![CDATA[  AND ADMINIST_WORD_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_ENG_NM"'>
                <![CDATA[  AND ADMINIST_WORD_ENG_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_ABRV_NM"'> 
                <![CDATA[  AND ADMINIST_WORD_ABRV_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_DFN"'>
                <![CDATA[  AND ADMINIST_WORD_DFN LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_DC"'>
                <![CDATA[  AND ADMINIST_WORD_DC LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
        </choose>
		</if>
    	<if test='choseongA != null and choseongA != ""'>
        <choose>
            <when test='choseongSe == "H"'>
 	 			<![CDATA[ AND ADMINIST_WORD_NM >= #{choseongA} AND ADMINIST_WORD_NM < #{choseongB} ]]>
            </when>
            <when test='choseongSe == "E"'>
 	 			<![CDATA[ AND SUBSTR(ADMINIST_WORD_NM, 0, 1) >= #{choseongA} AND SUBSTR(ADMINIST_WORD_NM, 0, 1) <= #{choseongB} ]]>
            </when>
        </choose>
		</if>
	    <![CDATA[
		     ORDER BY FRST_REGIST_PNTTM DESC
		]]>				
        /* 구현 Sql */
        <![CDATA[
 			LIMIT  #{recordPerPage} OFFSET #{firstIndex}
        ]]>			
	</select>
	
	<!-- 행정전문용어사전::목록조회_게시물 총갯수  -->
	<select id="selectAdministrationWordListCnt" resultType="int">
	    <![CDATA[
			SELECT COUNT(*) totcnt
		      FROM COMTN_ADMINISTRATION_WORD
		     WHERE 1=1
        ]]>			
     	<if test='searchKeyword != null and searchKeyword != ""'>
        <choose>
            <when test='searchCondition == "ADMINIST_WORD_NM"'>
                <![CDATA[  AND ADMINIST_WORD_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_ENG_NM"'>
                <![CDATA[  AND ADMINIST_WORD_ENG_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_ABRV_NM"'> 
                <![CDATA[  AND ADMINIST_WORD_ABRV_NM LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_DFN"'>
                <![CDATA[  AND ADMINIST_WORD_DFN LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
            <when test='searchCondition == "ADMINIST_WORD_DC"'>
                <![CDATA[  AND ADMINIST_WORD_DC LIKE '%'|| #{searchKeyword} ||'%' ]]>
            </when>
        </choose>
		</if>
    	<if test='choseongA != null and choseongA != ""'>
        <choose>
            <when test='choseongSe == "H"'>
 	 			<![CDATA[ AND ADMINIST_WORD_NM >= #{choseongA} AND ADMINIST_WORD_NM < #{choseongB} ]]>
            </when>
            <when test='choseongSe == "E"'>
 	 			<![CDATA[ AND SUBSTR(ADMINIST_WORD_NM, 0, 1) >= #{choseongA} AND SUBSTR(ADMINIST_WORD_NM, 0, 1) <= #{choseongB} ]]>
            </when>
        </choose>
		</if>
	</select>

	<!-- 행정전문용어사전::상세보기 -->
	<select id="selectAdministrationWordDetail" resultType="administrationWordVO">
	    <![CDATA[
			SELECT ADMINIST_WORD_ID
			     , ADMINIST_WORD_NM
			     , ADMINIST_WORD_ENG_NM
			     , ADMINIST_WORD_ABRV_NM		AS "administWordAbrv"
			     , THEMA_RELM
			     , WORD_SE						AS "wordDomn"
			     , RELATE_STD_WORD				AS "stdWord"
			     , ADMINIST_WORD_DFN			AS "administWordDf"
			     , ADMINIST_WORD_DC
			     , FRST_REGIST_PNTTM			AS "frstRegisterPnttm"
			     , FRST_REGISTER_ID
			     , LAST_UPDT_PNTTM				AS "lastUpdusrPnttm"
			     , LAST_UPDUSR_ID
			  FROM COMTN_ADMINISTRATION_WORD 
			 WHERE ADMINIST_WORD_ID = #{administWordId}
        ]]>			
	</select>

	<!-- 행정전문용어사전::입력  -->
	<insert id="insertAdministrationWord">
	 	<![CDATA[
			INSERT INTO COMTN_ADMINISTRATION_WORD (
				   ADMINIST_WORD_ID
				 , ADMINIST_WORD_NM
				 , ADMINIST_WORD_ENG_NM
				 , ADMINIST_WORD_ABRV_NM
				 , THEMA_RELM
				 , WORD_SE
				 , RELATE_STD_WORD
				 , ADMINIST_WORD_DFN
				 , ADMINIST_WORD_DC
				 , FRST_REGISTER_ID 
				 , FRST_REGIST_PNTTM 
				 , LAST_UPDUSR_ID
				 , LAST_UPDT_PNTTM 
			) VALUES (
				   #{administWordId}
				 , #{administWordNm}
				 , #{administWordEngNm}
				 , #{administWordAbrv}
				 , #{themaRelm}
				 , #{wordDomn}
				 , #{stdWord}
				 , #{administWordDf}
				 , #{administWordDc}
				 , #{frstRegisterId}
				 , sysdate()
				 , #{frstRegisterId} 
				 , sysdate()
			)
	 	]]>
	</insert>
	
 	<!-- 행정전문용어사전::수정  -->
	<update id="updateAdministrationWord">
	 	<![CDATA[
			UPDATE COMTN_ADMINISTRATION_WORD
			   SET ADMINIST_WORD_NM			= #{administWordNm}
			     , ADMINIST_WORD_ENG_NM		= #{administWordEngNm}
			     , ADMINIST_WORD_ABRV_NM	= #{administWordAbrv}
			     , THEMA_RELM				= #{themaRelm}
			     , WORD_SE					= #{wordDomn}
			     , RELATE_STD_WORD			= #{stdWord}
			     , ADMINIST_WORD_DFN		= #{administWordDf}
			     , ADMINIST_WORD_DC			= #{administWordDc}
			     , LAST_UPDUSR_ID 			= #{lastUpdusrId}
			     , LAST_UPDT_PNTTM 			= sysdate()
			 WHERE ADMINIST_WORD_ID = #{administWordId}
	 	]]>
	</update>

   <!-- 행정전문용어사전::삭제  -->
	<delete id="deleteAdministrationWord">
		<![CDATA[
			DELETE 
			  FROM COMTN_ADMINISTRATION_WORD
			 WHERE ADMINIST_WORD_ID=#{administWordId}
		]]>
	</delete>

</mapper>